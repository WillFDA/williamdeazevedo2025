# Blog Refactor Progress Log
Started: 2026-01-15
PRD: docs/PRD-BLOG-REFACTOR.md
---

## Pending Tasks (by priority)

### Phase 1: Configuration MDX (Haute priorité) ✅ COMPLETE
- [x] Activer mdxRs dans next.config.ts
- [x] Migrer mon-premier-post.mdx vers export metadata
- [x] Adapter fetch.ts pour import direct
- [x] Tester la compilation

### Phase 2: Syntax Highlighting (Haute priorité) ✅ COMPLETE
- [x] Installer shiki
- [x] Configurer transpilePackages
- [x] Créer composant code async dans mdx-components.tsx
- [x] Ajouter CSS variables pour Shiki
- [x] Tester avec différents langages

### Phase 3: Simplification Liste Blog (Moyenne priorité) ✅ COMPLETE
- [x] Simplifier app/blog/page.tsx (style minimaliste)
- [x] Supprimer les cards de la liste
- [x] Style dot leaders pour la liste
- [x] Tester responsive

### Phase 4: Composant Card (Basse priorité)
- [ ] Créer components/blog/card.tsx
- [ ] Exporter dans mdx-components.tsx
- [ ] Documenter l'utilisation

---

## Completed Tasks

### 2026-01-15
- [x] Activer mdxRs dans next.config.ts
  - Fichiers modifiés: `next.config.ts`
  - Ajout de `experimental.mdxRs` avec `mdxType: "gfm"` pour activer le compilateur MDX Rust avec support GitHub Flavored Markdown

- [x] Migrer vers export metadata et import direct MDX
  - Fichiers modifiés: `app/blog/fetch.ts`, `app/blog/[slug]/page.tsx`
  - `content/mon-premier-post.mdx` était déjà migré vers `export const metadata`
  - `fetch.ts`: Remplacé `compileMDX` par import dynamique direct (`import(`@/content/${slug}.mdx`)`)
  - Suppression de la dépendance à `next-mdx-remote/rsc` pour le parsing
  - `Post.content` est maintenant un `ComponentType` au lieu de `React.ReactElement`
  - `[slug]/page.tsx`: Adapté pour rendre `<post.content />` comme composant

- [x] Installer shiki
  - Fichiers modifiés: `package.json`, `bun.lock`
  - Installation de shiki v3.21.0 via `bun add shiki`
  - Prépare le syntax highlighting pour les blocs de code MDX

### 2026-01-16
- [x] Compléter Phase 2: Syntax Highlighting
  - Fichiers vérifiés/modifiés: `next.config.ts`, `mdx-components.tsx`, `app/globals.css`, `content/mon-premier-post.mdx`
  - `transpilePackages: ['shiki']` était déjà configuré dans next.config.ts
  - Composant `CodeBlock` async avec Shiki était déjà implémenté dans mdx-components.tsx
  - CSS variables Shiki étaient déjà ajoutées dans globals.css (lignes 238-251)
  - Ajout de blocs de code TypeScript et TSX dans mon-premier-post.mdx pour tester le syntax highlighting

- [x] Compléter Phase 3: Simplification Liste Blog
  - Fichier modifié: `app/blog/page.tsx`
  - Refactorisé la liste des articles vers un style minimaliste (inspiré de shud.in)
  - Supprimé les cards avec descriptions, tags et hover effect vertical
  - Remplacé par une liste simple: titre + dot-leaders + date
  - Ajout d'une fonction `formatDate()` pour formater les dates en français (format court)
  - Structure sémantique améliorée avec `<ul>` et `<li>`
  - Hover effect subtil sur le titre (gray-900 → gray-600)
  - Design responsive avec `whitespace-nowrap` sur la date et `min-w-[2rem]` sur les dot-leaders

---
